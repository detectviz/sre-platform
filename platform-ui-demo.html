<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SRE 平台 UI 元件與圖表規範 Demo</title>
  <link rel="stylesheet" href="https://unpkg.com/antd@5.19.1/dist/reset.css" />
  <style>
    :root {
      /* === 核心品牌色系統 === */
      --brand-primary: #1890ff;
      --brand-primary-hover: #40a9ff;
      --brand-primary-active: #096dd9;
      --brand-primary-bg: rgba(24, 144, 255, 0.1);

      --brand-success: #52c41a;
      --brand-success-hover: #73d13d;
      --brand-success-bg: rgba(82, 196, 26, 0.1);

      --brand-warning: #faad14;
      --brand-warning-hover: #ffc53d;
      --brand-warning-bg: rgba(250, 173, 20, 0.1);

      --brand-danger: #ff4d4f;
      --brand-danger-hover: #ff7875;
      --brand-danger-bg: rgba(255, 77, 79, 0.1);

      --brand-info: #722ed1;
      --brand-info-hover: #9254de;
      --brand-info-bg: rgba(114, 46, 209, 0.1);

      /* === 文字層級系統 === */
      --text-primary: rgba(255, 255, 255, 0.95);
      --text-secondary: rgba(255, 255, 255, 0.85);
      --text-tertiary: rgba(255, 255, 255, 0.65);
      --text-quaternary: rgba(255, 255, 255, 0.45);
      --text-disabled: rgba(255, 255, 255, 0.25);

      /* === 背景層級系統 === */
      --bg-page: #0A0B0E;
      --bg-container: #141519;
      --bg-elevated: #1A1D23;
      --bg-overlay: #23262F;
      --bg-hover: rgba(255, 255, 255, 0.08);
      --bg-active: rgba(255, 255, 255, 0.12);
      --bg-selected: rgba(24, 144, 255, 0.15);

      /* === 邊框系統 === */
      --border-base: rgba(255, 255, 255, 0.12);
      --border-light: rgba(255, 255, 255, 0.08);
      --border-focus: var(--brand-primary);
      --border-hover: rgba(255, 255, 255, 0.2);

      /* === 間距系統 (8px 基礎網格) === */
      --spacing-xs: 4px;
      --spacing-sm: 8px;
      --spacing-md: 12px;
      --spacing-lg: 16px;
      --spacing-xl: 24px;
      --spacing-2xl: 32px;
      --spacing-3xl: 48px;

      /* === 圓角系統 === */
      --radius-xs: 4px;
      --radius-sm: 6px;
      --radius-md: 8px;
      --radius-lg: 12px;
      --radius-xl: 16px;

      /* === 陰影系統 === */
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.15);
      --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.25);
      --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.35);
      --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.45);

      /* === 按鈕系統 === */
      --btn-height-sm: 28px;
      --btn-height-md: 36px;
      --btn-height-lg: 44px;
      --btn-padding-sm: 0 8px;
      --btn-padding-md: 0 16px;
      --btn-padding-lg: 0 24px;

      /* === 玻璃效果系統 === */
      --glass-bg: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%);
      --glass-border: 1px solid rgba(255, 255, 255, 0.12);
      --glass-backdrop: blur(20px) saturate(180%);
      --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    html,
    body {
      margin: 0;
      padding: 0;
      background: var(--bg-page);
      color: var(--text-primary);
      font-family: 'Inter', 'Noto Sans TC', 'PingFang TC', 'Microsoft JhengHei', sans-serif;
      min-height: 100%;
      line-height: 1.6;
    }

    body {
      padding: var(--spacing-3xl);
      box-sizing: border-box;
    }

    @media (max-width: 768px) {
      body {
        padding: var(--spacing-xl);
      }
    }

    .page-shell {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-2xl);
    }

    .page-header {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
    }

    .page-title {
      font-size: 32px;
      font-weight: 600;
      margin: 0;
      background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: -0.5px;
    }

    .page-subtitle {
      font-size: 14px;
      color: var(--text-tertiary);
      margin: 0;
      max-width: 760px;
    }

    .demo-card {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-xl);
      padding: var(--spacing-2xl);
      border-radius: var(--radius-lg);
    }

    .demo-card__header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: var(--spacing-lg);
      align-items: flex-start;
    }

    .section-title {
      margin: 0;
      font-size: 20px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .section-description {
      margin: 0;
      font-size: 14px;
      color: var(--text-tertiary);
      max-width: 720px;
    }

    .demo-card__content {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-lg);
    }

    .glass-card {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(200, 200, 200, 0.04) 100%) !important;
      border: 1px solid rgba(255, 255, 255, 0.12) !important;
      border-radius: 12px !important;
      backdrop-filter: blur(20px) saturate(180%) !important;
      -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
    }

    .glass-card-subtle {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(200, 200, 200, 0.02) 100%) !important;
      border: 1px solid rgba(255, 255, 255, 0.08) !important;
      border-radius: 12px !important;
      backdrop-filter: blur(20px) saturate(180%) !important;
      -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.08) !important;
    }

    .tag-stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: var(--spacing-xl);
    }

    .tag-stat-card {
      background: var(--glass-bg);
      border: var(--glass-border);
      border-radius: var(--radius-lg);
      padding: var(--spacing-lg);
      backdrop-filter: var(--glass-backdrop);
      -webkit-backdrop-filter: var(--glass-backdrop);
      box-shadow: var(--glass-shadow);
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
    }

    .tag-stat-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
      border-color: rgba(255, 255, 255, 0.2);
    }

    .tag-stat-icon {
      font-size: 18px;
      color: var(--brand-primary);
      opacity: 0.75;
    }

    .tag-stat-value {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
      line-height: 1;
    }

    .tag-stat-label {
      font-size: 12px;
      color: var(--text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }

    .form-layout {
      display: grid;
      gap: var(--spacing-2xl);
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      align-items: flex-start;
    }

    .tag-collection {
      display: flex;
      flex-wrap: wrap;
      gap: var(--spacing-xs);
    }

    .chart-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: var(--spacing-xl);
    }

    .chart-panel {
      height: 260px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: var(--radius-md);
      border: 1px solid rgba(255, 255, 255, 0.12);
    }

    .search-input {
      width: 100%;
    }

    @media (min-width: 992px) {
      .search-input {
        width: 320px;
      }
    }

    /* === 全域操作按鈕標準化 === */
    .platform-btn {
      --btn-height: 36px;
      --btn-padding: 0 var(--spacing-lg);
      --btn-font-size: 14px;
      --btn-font-weight: 500;
      --btn-border-radius: var(--radius-sm);
      --btn-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

      height: var(--btn-height);
      padding: var(--btn-padding);
      font-size: var(--btn-font-size);
      font-weight: var(--btn-font-weight);
      border-radius: var(--btn-border-radius);
      transition: var(--btn-transition);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-xs);
      white-space: nowrap;
      cursor: pointer;
      border: 1px solid transparent;
      background: transparent;
      color: var(--text-secondary);
    }

    .platform-btn:disabled {
      cursor: not-allowed;
      opacity: 0.6;
    }

    .platform-btn--primary {
      background: var(--brand-primary);
      border-color: var(--brand-primary);
      color: white;
    }

    .platform-btn--primary:hover:not(:disabled) {
      background: var(--brand-primary-hover);
      border-color: var(--brand-primary-hover);
      transform: translateY(-1px);
      box-shadow: 0 4px 16px rgba(24, 144, 255, 0.3);
    }

    .platform-btn--secondary {
      border-color: var(--border-base);
      color: var(--text-secondary);
      background: var(--bg-elevated);
    }

    .platform-btn--secondary:hover:not(:disabled) {
      border-color: var(--border-hover);
      background: var(--bg-hover);
      color: var(--text-primary);
      transform: translateY(-1px);
    }

    .platform-btn--danger {
      background: var(--brand-danger);
      border-color: var(--brand-danger);
      color: white;
    }

    .platform-btn--danger:hover:not(:disabled) {
      background: var(--brand-danger-hover);
      border-color: var(--brand-danger-hover);
      transform: translateY(-1px);
      box-shadow: 0 4px 16px rgba(255, 77, 79, 0.3);
    }

    .platform-btn--ghost {
      --btn-bg: transparent;
      --btn-color: var(--text-tertiary);
      --btn-border-color: var(--border-light);
      --btn-bg-hover: var(--bg-hover);
      --btn-color-hover: var(--text-secondary);
      --btn-border-color-hover: var(--border-base);
      background: var(--btn-bg);
      color: var(--btn-color);
      border-color: var(--btn-border-color);
    }

    .platform-btn--ghost:hover:not(:disabled) {
      background: var(--btn-bg-hover);
      color: var(--btn-color-hover);
      border-color: var(--btn-border-color-hover);
    }

    .platform-btn--text {
      --btn-bg: transparent;
      --btn-color: var(--text-tertiary);
      --btn-border-color: transparent;
      --btn-bg-hover: var(--bg-hover);
      --btn-color-hover: var(--text-secondary);
      padding: var(--spacing-xs) var(--spacing-sm);
      background: var(--btn-bg);
      color: var(--btn-color);
      border-color: var(--btn-border-color);
    }

    .platform-btn--text:hover:not(:disabled) {
      background: var(--btn-bg-hover);
      color: var(--btn-color-hover);
    }

    .platform-btn--small {
      --btn-height: 28px;
      --btn-padding: 0 var(--spacing-md);
      --btn-font-size: 12px;
    }

    .platform-btn--large {
      --btn-height: 44px;
      --btn-padding: 0 var(--spacing-2xl);
      --btn-font-size: 16px;
    }

    .platform-btn--icon-only {
      --btn-padding: 0;
      width: var(--btn-height);
      min-width: var(--btn-height);
    }

    .table-row-actions {
      display: flex;
      gap: var(--spacing-xs);
      align-items: center;
      justify-content: center;
      min-width: 96px;
    }

    .table-row-actions .platform-btn {
      opacity: 0.75;
      transition: all 0.2s ease;
    }

    .table-row-actions .platform-btn:hover {
      opacity: 1;
      transform: scale(1.05);
    }

    .table-action-delete:hover {
      --btn-color-hover: var(--brand-danger);
      --btn-bg-hover: rgba(255, 77, 79, 0.12);
    }

    .toolbar-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      gap: var(--spacing-lg);
      padding: var(--spacing-md) 0;
    }

    .toolbar-group {
      display: flex;
      gap: var(--spacing-sm);
      align-items: center;
    }

    .toolbar-group--secondary .platform-btn {
      opacity: 0.8;
    }

    .toolbar-group--secondary .platform-btn:hover {
      opacity: 1;
    }

    .filter-active {
      --btn-color: var(--brand-primary);
      --btn-bg: rgba(24, 144, 255, 0.12);
      --btn-border-color: var(--brand-primary);
    }

    .table-wrapper {
      background: var(--glass-bg);
      border: var(--glass-border);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--glass-shadow);
      backdrop-filter: var(--glass-backdrop);
      -webkit-backdrop-filter: var(--glass-backdrop);
    }

    .table-toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: var(--spacing-lg);
      padding: var(--spacing-lg);
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border-light);
      min-height: 64px;
    }

    .table-wrapper .ant-table {
      background: transparent;
    }

    .table-wrapper .ant-table-thead>tr>th {
      background: var(--bg-elevated);
      color: var(--text-primary);
      font-weight: 600;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      padding: var(--spacing-lg) var(--spacing-lg);
      height: 48px;
      line-height: 1.2;
      border-bottom: 2px solid var(--border-base);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .table-wrapper .ant-table-thead>tr>th .ant-table-column-sorter {
      opacity: 0.6;
      transition: opacity 0.2s ease;
    }

    .table-wrapper .ant-table-thead>tr>th:hover .ant-table-column-sorter {
      opacity: 1;
    }

    .table-wrapper .ant-table-tbody>tr {
      transition: all 0.2s ease;
      height: 52px;
    }

    .table-wrapper .ant-table-tbody>tr:hover {
      background: var(--bg-hover);
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .table-wrapper .ant-table-tbody>tr>td {
      color: var(--text-secondary);
      padding: var(--spacing-md) var(--spacing-lg);
      line-height: 1.4;
      border-bottom: 1px solid var(--border-light);
      vertical-align: middle;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 220px;
    }

    .table-wrapper .ant-table-row-selected>td {
      background: var(--bg-selected) !important;
      border-left: 3px solid var(--brand-primary);
    }

    .table-wrapper .ant-pagination {
      margin: var(--spacing-lg) 0 !important;
      display: flex;
      align-items: center;
      justify-content: flex-end;
    }

    .table-wrapper .ant-table-container::-webkit-scrollbar {
      height: 8px;
    }

    .table-wrapper .ant-table-container::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
    }

    .table-wrapper .ant-table-container::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 12px;
      border-radius: var(--radius-xl);
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      transition: all 0.2s ease;
    }

    .status-badge::before {
      content: '';
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: currentColor;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0% {
        opacity: 1;
        transform: scale(1);
      }

      50% {
        opacity: 0.6;
        transform: scale(0.8);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    .status-healthy,
    .status-badge-healthy {
      background: rgba(95, 207, 128, 0.12);
      color: var(--brand-success);
      border: 1px solid rgba(95, 207, 128, 0.24);
    }

    .status-warning,
    .status-badge-warning {
      background: rgba(255, 184, 77, 0.12);
      color: var(--brand-warning);
      border: 1px solid rgba(255, 184, 77, 0.24);
    }

    .status-critical,
    .status-badge-critical {
      background: rgba(255, 99, 99, 0.12);
      color: var(--brand-danger);
      border: 1px solid rgba(255, 99, 99, 0.24);
    }

    .ant-form-item-label>label {
      font-size: 14px;
      font-weight: 500;
      color: var(--text-primary);
    }

    .ant-form-item {
      margin-bottom: var(--spacing-lg);
    }

    .ant-input,
    .ant-input-password,
    .ant-input-affix-wrapper,
    .ant-select-selector {
      background: var(--bg-container) !important;
      border: 1px solid var(--border-light) !important;
      border-radius: var(--radius-sm) !important;
      color: var(--text-primary) !important;
      transition: all 0.3s ease !important;
    }

    .ant-input::placeholder,
    .ant-input-password .ant-input::placeholder {
      color: var(--text-tertiary) !important;
    }

    .ant-input:hover,
    .ant-input-affix-wrapper:hover,
    .ant-input-password:hover,
    .ant-select-selector:hover {
      border-color: var(--border-hover) !important;
    }

    .ant-input:focus,
    .ant-input-focused,
    .ant-input-affix-wrapper-focused,
    .ant-input-password:focus-within,
    .ant-select-focused .ant-select-selector {
      border-color: var(--brand-primary) !important;
      box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.1) !important;
    }

    .ant-modal-content {
      background: var(--bg-elevated);
      border: var(--glass-border);
      border-radius: var(--radius-lg);
      backdrop-filter: var(--glass-backdrop);
    }

    .ant-modal-header {
      background: transparent;
      border-bottom: 1px solid var(--border-light);
      padding: var(--spacing-xl) var(--spacing-xl) var(--spacing-lg);
    }

    .ant-modal-body {
      padding: var(--spacing-xl);
      color: var(--text-secondary);
    }

    .ant-modal-footer {
      border-top: 1px solid var(--border-light);
      padding: var(--spacing-lg) var(--spacing-xl);
    }

    .ant-drawer-content {
      background: var(--bg-elevated);
      border-left: var(--glass-border);
    }

    .ant-drawer-header {
      border-bottom: 1px solid var(--border-light);
    }

    .ant-drawer-body {
      color: var(--text-secondary);
    }

    .ant-tabs {
      margin-top: var(--spacing-sm);
    }

    .ant-tabs .ant-tabs-content-holder {
      padding-top: var(--spacing-lg);
    }

    .ant-tabs-tab {
      padding: var(--spacing-sm) var(--spacing-md);
      margin-right: var(--spacing-sm);
      border-radius: var(--radius-sm);
      transition: all 0.2s ease;
    }

    .ant-tabs-tab.ant-tabs-tab-active {
      background: var(--brand-primary);
      color: white;
    }

    .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {
      color: white;
    }

    .ant-tabs-tab:hover {
      background: rgba(24, 144, 255, 0.1);
    }

    .ant-tabs-ink-bar {
      background: var(--brand-primary);
    }

    .ant-timeline-item-head {
      background: var(--bg-container);
      border: 2px solid var(--border-light);
    }

    .ant-timeline-item-head-blue {
      background: var(--brand-primary);
      border-color: var(--brand-primary);
    }

    .ant-timeline-item-head-red {
      background: var(--brand-danger);
      border-color: var(--brand-danger);
    }

    .ant-timeline-item-head-green {
      background: var(--brand-success);
      border-color: var(--brand-success);
    }

    .ant-descriptions {
      margin-bottom: var(--spacing-lg);
    }

    .ant-descriptions-item-label {
      color: var(--text-tertiary);
      font-weight: 500;
      font-size: 14px;
    }

    .ant-descriptions-item-content {
      color: var(--text-primary);
      font-size: 14px;
    }

    .ant-descriptions-bordered .ant-descriptions-item-label,
    .ant-descriptions-bordered .ant-descriptions-item-content {
      padding: var(--spacing-md) var(--spacing-lg);
      border-bottom: 1px solid var(--border-light);
    }

    .ant-descriptions-bordered .ant-descriptions-row {
      border-bottom: 1px solid var(--border-light);
    }

    .ant-tag {
      margin: 2px 4px 2px 0;
      padding: 2px 8px;
      border-radius: var(--radius-sm);
      font-size: 12px;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .ant-tag-blue {
      background: rgba(24, 144, 255, 0.1);
      color: var(--brand-primary);
      border-color: rgba(24, 144, 255, 0.2);
    }

    .ant-tag-green {
      background: rgba(82, 196, 26, 0.1);
      color: var(--brand-success);
      border-color: rgba(82, 196, 26, 0.2);
    }

    .ant-tag-orange {
      background: rgba(250, 173, 20, 0.1);
      color: var(--brand-warning);
      border-color: rgba(250, 173, 20, 0.2);
    }

    .ant-tag-red {
      background: rgba(255, 77, 79, 0.1);
      color: var(--brand-danger);
      border-color: rgba(255, 77, 79, 0.2);
    }

    .ant-pagination-item,
    .ant-pagination-prev,
    .ant-pagination-next {
      border: 1px solid var(--border-light) !important;
      background: var(--bg-container) !important;
      color: var(--text-secondary) !important;
      border-radius: var(--radius-sm) !important;
    }

    .ant-pagination-item:hover,
    .ant-pagination-prev:hover,
    .ant-pagination-next:hover {
      border-color: var(--border-hover) !important;
      color: var(--text-primary) !important;
    }

    .ant-pagination-item-active {
      background: var(--brand-primary) !important;
      border-color: var(--brand-primary) !important;
      color: white !important;
    }
  </style>
</head>

<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/dayjs@1.11.10/dayjs.min.js"></script>
  <script src="https://unpkg.com/antd@5.19.1/dist/antd.min.js"></script>
  <script src="https://unpkg.com/@ant-design/icons@5.3.7/dist/index.umd.min.js"></script>
  <script src="https://unpkg.com/echarts/dist/echarts.min.js"></script>

  <script type="text/babel">
    const {
      Form,
      Input,
      Table,
      Modal,
      Drawer,
      Tabs,
      Timeline,
      Descriptions,
      Tag,
      Space,
      Tooltip,
      Badge,
      message,
      Spin
    } = window.antd;

    const {
      EyeOutlined,
      EditOutlined,
      DeleteOutlined,
      ReloadOutlined,
      FilterOutlined,
      DownloadOutlined,
      PlusOutlined,
      SearchOutlined
    } = window.icons;

    const PlatformButton = React.memo(({
      variant = 'secondary',
      size = 'medium',
      icon,
      loading = false,
      disabled = false,
      children,
      className = '',
      htmlType = 'button',
      tooltip,
      ...props
    }) => {
      const classNames = [
        'platform-btn',
        `platform-btn--${variant}`,
        size !== 'medium' ? `platform-btn--${size}` : '',
        icon && !children ? 'platform-btn--icon-only' : '',
        className
      ].filter(Boolean).join(' ');

      const ButtonContent = (
        <button
          className={classNames}
          disabled={disabled || loading}
          type={htmlType}
          {...props}
        >
          {loading ? <Spin size="small" /> : icon}
          {children}
        </button>
      );

      return tooltip ? (
        <Tooltip title={tooltip}>
          {ButtonContent}
        </Tooltip>
      ) : ButtonContent;
    });

    const TableRowActions = React.memo(({ record, onEdit, onDelete, onView, customActions = [] }) => (
      <Space size="small" className="table-row-actions">
        {onView && (
          <PlatformButton
            variant="text"
            size="small"
            icon={<EyeOutlined />}
            tooltip="查看詳情"
            onClick={() => onView(record)}
          />
        )}
        {onEdit && (
          <PlatformButton
            variant="text"
            size="small"
            icon={<EditOutlined />}
            tooltip="編輯設定"
            onClick={() => onEdit(record)}
          />
        )}
        {onDelete && (
          <PlatformButton
            variant="text"
            size="small"
            icon={<DeleteOutlined />}
            tooltip="刪除"
            className="table-action-delete"
            onClick={() => onDelete(record)}
          />
        )}
        {customActions.map((action, index) => (
          <PlatformButton
            key={index}
            variant={action.variant || 'text'}
            size="small"
            icon={action.icon}
            tooltip={action.tooltip}
            onClick={() => action.onClick(record)}
            {...action.props}
          />
        ))}
      </Space>
    ));

    const ToolbarActions = React.memo(({ onRefresh, onExport, onAdd, onFilter, filterActive = false, customActions = [] }) => (
      <Space size="middle" className="toolbar-actions">
        <Space size="small" className="toolbar-group toolbar-group--secondary">
          {onRefresh && (
            <PlatformButton
              variant="ghost"
              size="small"
              icon={<ReloadOutlined />}
              tooltip="重新載入"
              onClick={onRefresh}
            />
          )}
          {onFilter && (
            <PlatformButton
              variant="ghost"
              size="small"
              icon={<FilterOutlined />}
              tooltip="篩選條件"
              className={filterActive ? 'filter-active' : ''}
              onClick={onFilter}
            />
          )}
          {onExport && (
            <PlatformButton
              variant="ghost"
              size="small"
              icon={<DownloadOutlined />}
              tooltip="匯出資料"
              onClick={onExport}
            />
          )}
        </Space>

        {customActions.length > 0 && (
          <Space size="small" className="toolbar-group toolbar-group--custom">
            {customActions.map((action, index) => (
              <PlatformButton
                key={index}
                variant={action.variant || 'ghost'}
                size="small"
                icon={action.icon}
                tooltip={action.tooltip}
                onClick={action.onClick}
                {...action.props}
              >
                {action.text}
              </PlatformButton>
            ))}
          </Space>
        )}

        {onAdd && (
          <Space size="small" className="toolbar-group toolbar-group--primary">
            <PlatformButton
              variant="primary"
              size="medium"
              icon={<PlusOutlined />}
              onClick={onAdd}
            >
              新增
            </PlatformButton>
          </Space>
        )}
      </Space>
    ));

    const Section = ({ title, description, extra, children }) => (
      <section className="demo-card glass-card">
        <div className="demo-card__header">
          <div>
            <h2 className="section-title">{title}</h2>
            {description && <p className="section-description">{description}</p>}
          </div>
          {extra && <div className="demo-card__extra">{extra}</div>}
        </div>
        <div className="demo-card__content">
          {children}
        </div>
      </section>
    );

    const StatusBadge = ({ status }) => {
      const labelMap = {
        healthy: '健康',
        warning: '警告',
        critical: '嚴重'
      };
      const className = `status-badge status-${status}`;
      return <span className={className}>{labelMap[status] || status}</span>;
    };

    const MetricsOverview = () => {
      const metrics = [
        { label: 'ACTIVE INCIDENTS', value: '18', icon: '🔥' },
        { label: 'SILENCE RULES', value: '42', icon: '🔕' },
        { label: 'SERVICE HEALTH', value: '97.3%', icon: '🛡️' },
        { label: 'ON-CALL ENGINEERS', value: '6', icon: '👩‍💻' }
      ];

      return (
        <div className="tag-stats-grid">
          {metrics.map((item) => (
            <div key={item.label} className="tag-stat-card glass-card-subtle">
              <span className="tag-stat-icon">{item.icon}</span>
              <span className="tag-stat-value">{item.value}</span>
              <span className="tag-stat-label">{item.label}</span>
            </div>
          ))}
        </div>
      );
    };

    const ChartsSection = () => {
      React.useEffect(() => {
        const chartConfigs = [
          {
            id: 'chart-bar',
            option: {
              color: ['#1890ff', '#52c41a', '#faad14', '#ff4d4f'],
              textStyle: { color: 'rgba(255,255,255,0.85)' },
              tooltip: {
                trigger: 'axis',
                backgroundColor: '#1A1D23',
                borderColor: 'rgba(255,255,255,0.12)'
              },
              grid: { left: '3%', right: '3%', bottom: '8%', containLabel: true },
              xAxis: {
                type: 'category',
                data: ['00:00', '06:00', '12:00', '18:00', '24:00'],
                axisLabel: { color: 'rgba(255,255,255,0.65)' },
                axisLine: { lineStyle: { color: 'rgba(255,255,255,0.2)' } }
              },
              yAxis: {
                type: 'value',
                axisLabel: { color: 'rgba(255,255,255,0.65)' },
                splitLine: { lineStyle: { color: 'rgba(255,255,255,0.08)' } }
              },
              series: [
                {
                  name: '事件數量',
                  type: 'bar',
                  data: [12, 22, 18, 26, 14],
                  barWidth: 18,
                  itemStyle: { borderRadius: [4, 4, 0, 0] }
                }
              ]
            }
          },
          {
            id: 'chart-pie',
            option: {
              color: ['#52c41a', '#faad14', '#ff4d4f', '#722ed1'],
              tooltip: {
                trigger: 'item',
                backgroundColor: '#1A1D23',
                borderColor: 'rgba(255,255,255,0.12)'
              },
              legend: {
                top: 'bottom',
                textStyle: { color: 'rgba(255,255,255,0.65)' }
              },
              series: [
                {
                  name: '健康狀態',
                  type: 'pie',
                  radius: ['40%', '70%'],
                  avoidLabelOverlap: false,
                  itemStyle: { borderColor: '#0A0B0E', borderWidth: 2 },
                  label: {
                    color: 'rgba(255,255,255,0.85)'
                  },
                  data: [
                    { value: 62, name: '健康' },
                    { value: 24, name: '警告' },
                    { value: 9, name: '嚴重' },
                    { value: 5, name: '維護中' }
                  ]
                }
              ]
            }
          },
          {
            id: 'chart-line',
            option: {
              color: ['#1890ff'],
              tooltip: {
                trigger: 'axis',
                backgroundColor: '#1A1D23',
                borderColor: 'rgba(255,255,255,0.12)'
              },
              grid: { left: '3%', right: '3%', bottom: '8%', containLabel: true },
              xAxis: {
                type: 'category',
                boundaryGap: false,
                data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],
                axisLabel: { color: 'rgba(255,255,255,0.65)' },
                axisLine: { lineStyle: { color: 'rgba(255,255,255,0.2)' } }
              },
              yAxis: {
                type: 'value',
                axisLabel: { color: 'rgba(255,255,255,0.65)' },
                splitLine: { lineStyle: { color: 'rgba(255,255,255,0.08)' } }
              },
              series: [
                {
                  name: '平均修復時間 (分鐘)',
                  type: 'line',
                  smooth: true,
                  areaStyle: {
                    opacity: 0.2,
                    color: new window.echarts.graphic.LinearGradient(0, 0, 0, 1, [
                      { offset: 0, color: 'rgba(24, 144, 255, 0.4)' },
                      { offset: 1, color: 'rgba(24, 144, 255, 0.05)' }
                    ])
                  },
                  data: [16, 14, 12, 18, 11, 9, 13]
                }
              ]
            }
          },
          {
            id: 'chart-heatmap',
            option: {
              tooltip: {
                position: 'top',
                backgroundColor: '#1A1D23',
                borderColor: 'rgba(255,255,255,0.12)'
              },
              grid: { height: '70%', top: '10%' },
              xAxis: {
                type: 'category',
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                axisLabel: { color: 'rgba(255,255,255,0.65)' },
                axisLine: { lineStyle: { color: 'rgba(255,255,255,0.2)' } }
              },
              yAxis: {
                type: 'category',
                data: ['API', 'DB', 'Storage', 'Network', 'CI/CD'],
                axisLabel: { color: 'rgba(255,255,255,0.65)' },
                axisLine: { lineStyle: { color: 'rgba(255,255,255,0.2)' } }
              },
              visualMap: {
                min: 0,
                max: 10,
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '2%',
                textStyle: { color: 'rgba(255,255,255,0.85)' }
              },
              series: [{
                name: '事件熱度',
                type: 'heatmap',
                data: [
                  [0, 0, 2], [0, 1, 6], [0, 2, 4], [0, 3, 5], [0, 4, 3],
                  [1, 0, 3], [1, 1, 7], [1, 2, 5], [1, 3, 6], [1, 4, 2],
                  [2, 0, 5], [2, 1, 8], [2, 2, 6], [2, 3, 7], [2, 4, 4],
                  [3, 0, 2], [3, 1, 4], [3, 2, 3], [3, 3, 5], [3, 4, 3],
                  [4, 0, 1], [4, 1, 2], [4, 2, 2], [4, 3, 3], [4, 4, 1],
                  [5, 0, 0], [5, 1, 1], [5, 2, 0], [5, 3, 2], [5, 4, 1],
                  [6, 0, 1], [6, 1, 0], [6, 2, 1], [6, 3, 1], [6, 4, 0]
                ],
                label: { show: true, color: 'rgba(255,255,255,0.85)' },
                itemStyle: {
                  borderColor: 'rgba(255,255,255,0.05)'
                }
              }]
            }
          }
        ];

        const instances = chartConfigs.map(({ id, option }) => {
          const element = document.getElementById(id);
          if (!element) return null;
          const chart = window.echarts.init(element);
          chart.setOption(option);
          return chart;
        }).filter(Boolean);

        const handleResize = () => {
          instances.forEach(chart => chart.resize());
        };

        window.addEventListener('resize', handleResize);

        return () => {
          window.removeEventListener('resize', handleResize);
          instances.forEach(chart => chart.dispose());
        };
      }, []);

      return (
        <div className="chart-grid">
          <div id="chart-bar" className="chart-panel"></div>
          <div id="chart-pie" className="chart-panel"></div>
          <div id="chart-line" className="chart-panel"></div>
          <div id="chart-heatmap" className="chart-panel"></div>
        </div>
      );
    };

    const DemoPage = () => {
      const [form] = Form.useForm();
      const [modalOpen, setModalOpen] = React.useState(false);
      const [drawerOpen, setDrawerOpen] = React.useState(false);
      const [filterActive, setFilterActive] = React.useState(false);

      const tableData = React.useMemo(() => ([
        {
          key: 'rg-1',
          group: '核心 API 服務',
          status: 'healthy',
          incidents: 2,
          sla: '99.95%',
          updatedAt: '2025-03-18 10:30'
        },
        {
          key: 'rg-2',
          group: '資料庫叢集',
          status: 'warning',
          incidents: 5,
          sla: '99.60%',
          updatedAt: '2025-03-18 10:12'
        },
        {
          key: 'rg-3',
          group: '服務網格',
          status: 'healthy',
          incidents: 1,
          sla: '99.90%',
          updatedAt: '2025-03-18 09:50'
        },
        {
          key: 'rg-4',
          group: '邊緣節點',
          status: 'critical',
          incidents: 7,
          sla: '98.45%',
          updatedAt: '2025-03-18 09:20'
        },
        {
          key: 'rg-5',
          group: 'CI/CD Pipeline',
          status: 'warning',
          incidents: 3,
          sla: '99.10%',
          updatedAt: '2025-03-18 08:55'
        }
      ]), []);

      const tableColumns = React.useMemo(() => ([
        {
          title: '資源群組',
          dataIndex: 'group',
          key: 'group'
        },
        {
          title: '健康狀態',
          dataIndex: 'status',
          key: 'status',
          render: (status) => <StatusBadge status={status} />
        },
        {
          title: '未關閉事件',
          dataIndex: 'incidents',
          key: 'incidents',
          render: (value) => (
            <Tag className={value > 4 ? 'ant-tag-red' : value > 2 ? 'ant-tag-orange' : 'ant-tag-blue'}>
              {value} 件
            </Tag>
          )
        },
        {
          title: 'SLA',
          dataIndex: 'sla',
          key: 'sla'
        },
        {
          title: '最近更新',
          dataIndex: 'updatedAt',
          key: 'updatedAt'
        },
        {
          title: '操作',
          key: 'actions',
          render: (_, record) => (
            <TableRowActions
              record={record}
              onView={(item) => message.info(`查看 ${item.group}`)}
              onEdit={(item) => message.success(`編輯 ${item.group}`)}
              onDelete={(item) => message.warning(`刪除 ${item.group}`)}
            />
          )
        }
      ]), []);

      const timelineItems = [
        {
          color: 'green',
          children: <div><strong>10:25</strong> - 自動修復完成，健康狀態恢復</div>
        },
        {
          color: 'blue',
          children: <div><strong>09:58</strong> - 發佈新版本，觸發健康檢查</div>
        },
        {
          color: 'red',
          children: <div><strong>09:42</strong> - 偵測到 API 延遲上升，建立事件</div>
        }
      ];

      const tabItems = [
        {
          key: 'tab1',
          label: '事件分析',
          children: <p style={{ margin: 0, color: 'var(--text-secondary)' }}>聚焦最近 24 小時事件趨勢，協助判斷是否需要擴大資源。</p>
        },
        {
          key: 'tab2',
          label: '容量指標',
          children: <p style={{ margin: 0, color: 'var(--text-secondary)' }}>追蹤 CPU、記憶體、網路使用率，提供資源調整建議。</p>
        },
        {
          key: 'tab3',
          label: '變更紀錄',
          children: <p style={{ margin: 0, color: 'var(--text-secondary)' }}>整合 GitOps 與配置變更歷程，快速追溯風險來源。</p>
        }
      ];

      const handleFormSubmit = (values) => {
        message.success('設定已送出');
        form.resetFields();
      };

      return (
        <div className="page-shell">
          <header className="page-header">
            <h1 className="page-title">SRE 平台 UI 元件規範</h1>
            <p className="page-subtitle">此頁展示平台核心元件在實際暗色介面下的標準樣式，完全比照 prototype.html 的設計語言，作為實作與驗證的參考基準。</p>
          </header>

          <MetricsOverview />

          <Section
            title="標準操作按鈕"
            description="PlatformButton 封裝了統一的高度、間距、圓角與互動效果，確保所有操作按鈕呈現一致體驗。"
          >
            <Space wrap size="middle">
              <PlatformButton variant="primary" icon={<PlusOutlined />}>
                建立事件
              </PlatformButton>
              <PlatformButton variant="secondary">
                重新派單
              </PlatformButton>
              <PlatformButton variant="ghost" tooltip="切換快照">
                生成快照
              </PlatformButton>
              <PlatformButton variant="text" icon={<SearchOutlined />}>
                進階搜尋
              </PlatformButton>
              <PlatformButton variant="danger" icon={<DeleteOutlined />}>
                強制終止
              </PlatformButton>
              <PlatformButton variant="primary" size="large" loading>
                佈署中...
              </PlatformButton>
            </Space>
          </Section>

          <Section
            title="工具列與表格"
            description="整合 ToolbarActions 與 Ant Design Table，示範完整的資源群組總覽樣式，包含狀態徽章、操作列及分頁配置。"
          >
            <div className="table-wrapper">
              <div className="table-toolbar">
                <ToolbarActions
                  onRefresh={() => message.success('已重新載入最新資料')}
                  onExport={() => message.success('報表匯出成功')}
                  onAdd={() => message.success('已建立新的資源群組')}
                  onFilter={() => setFilterActive((prev) => !prev)}
                  filterActive={filterActive}
                  customActions={[
                    {
                      text: '批次刪除',
                      variant: 'ghost',
                      icon: <DeleteOutlined />,
                      tooltip: '批次刪除選取項目',
                      onClick: () => message.warning('請先選取需要刪除的項目')
                    }
                  ]}
                />
              </div>
              <Table
                columns={tableColumns}
                dataSource={tableData}
                pagination={{ pageSize: 5, showSizeChanger: false }}
              />
            </div>
          </Section>

          <Section
            title="表單與彈出元件"
            description="設定表單、Modal 與 Drawer 皆沿用統一的玻璃化樣式與邊框，提供一致的輸入體驗。"
          >
            <div className="form-layout">
              <Form form={form} layout="vertical" onFinish={handleFormSubmit}>
                <Form.Item
                  label="資源群組名稱"
                  name="groupName"
                  rules={[{ required: true, message: '請輸入資源群組名稱' }]}
                >
                  <Input placeholder="例如：核心 API 服務" allowClear />
                </Form.Item>
                <Form.Item
                  label="負責角色"
                  name="owner"
                  rules={[{ required: true, message: '請輸入主要負責角色' }]}
                >
                  <Input placeholder="例如：平台 On-Call" allowClear />
                </Form.Item>
                <Form.Item
                  label="告警阈值 (ms)"
                  name="threshold"
                  rules={[{ required: true, message: '請設定觸發阈值' }]}
                >
                  <Input placeholder="例如：1200" suffix="ms" />
                </Form.Item>
                <Form.Item>
                  <Space>
                    <PlatformButton variant="primary" htmlType="submit">
                      儲存設定
                    </PlatformButton>
                    <PlatformButton variant="text" onClick={() => form.resetFields()}>
                      清除
                    </PlatformButton>
                  </Space>
                </Form.Item>
              </Form>

              <Space direction="vertical" size="large">
                <PlatformButton variant="primary" onClick={() => setModalOpen(true)}>
                  開啟 Modal
                </PlatformButton>
                <PlatformButton variant="secondary" onClick={() => setDrawerOpen(true)}>
                  開啟 Drawer
                </PlatformButton>
              </Space>
            </div>

            <Modal
              title="靜音規則預覽"
              open={modalOpen}
              onCancel={() => setModalOpen(false)}
              footer={null}
            >
              <p>此次靜音規則將套用於「核心 API 服務」，時間範圍為 02:00-05:00，涵蓋 3 條事件來源。</p>
              <Space>
                <PlatformButton variant="primary" onClick={() => { message.success('靜音規則建立成功'); setModalOpen(false); }}>
                  確認建立
                </PlatformButton>
                <PlatformButton variant="text" onClick={() => setModalOpen(false)}>
                  取消
                </PlatformButton>
              </Space>
            </Modal>

            <Drawer
              title="資源診斷報告"
              width={420}
              open={drawerOpen}
              onClose={() => setDrawerOpen(false)}
            >
              <p>自動蒐集最近 24 小時的事件、部署與健康度指標，並提供修復建議。</p>
              <ul>
                <li>服務網格延遲較基準值高出 18%</li>
                <li>兩項部署於凌晨 01:00 完成，未觀察到錯誤</li>
                <li>建議將 API 節流上限提升 10%</li>
              </ul>
            </Drawer>
          </Section>

          <Section
            title="分頁與時間軸"
            description="多分頁內容與時間軸事件沿用相同的暗色系配色，強調資訊層級。"
          >
            <Tabs items={tabItems} defaultActiveKey="tab1" />
            <Timeline items={timelineItems} />
          </Section>

          <Section
            title="描述與標籤"
            description="Descriptions 與 Tag 使用統一的字級、邊距與底色，維持資訊呈現的一致性。"
          >
            <Descriptions bordered column={2} size="small">
              <Descriptions.Item label="資源群組">核心 API 服務</Descriptions.Item>
              <Descriptions.Item label="主要維運人員">林昱廷</Descriptions.Item>
              <Descriptions.Item label="最近部署">2025-03-18 00:45</Descriptions.Item>
              <Descriptions.Item label="地區">asia-east1</Descriptions.Item>
              <Descriptions.Item label="備註" span={2}>所有事件皆已串接平台靜音規則與自動修復劇本。</Descriptions.Item>
            </Descriptions>

            <div className="tag-collection">
              <Tag className="ant-tag-blue">API Gateway</Tag>
              <Tag className="ant-tag-green">自動化修復</Tag>
              <Tag className="ant-tag-orange">延遲警告</Tag>
              <Tag className="ant-tag-red">高風險</Tag>
            </div>
          </Section>

          <Section
            title="ECharts 視覺化"
            description="圖表區域沿用深色背景搭配高對比色彩，搭配玻璃化卡片呈現即時監控趨勢。"
          >
            <ChartsSection />
          </Section>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<DemoPage />);
  </script>
</body>

</html>
