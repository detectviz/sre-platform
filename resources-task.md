# 「資源列表」頁面整合重構方案 (最終完整版)

### 1. 核心目標
將「資源列表」頁面重構為一個單一、無滾動、職責分明的專業級管理介面。該介面需內建**兩種可切換模式**：「儀表板模式」用於宏觀監控，「列表管理模式」用於詳細操作。

### 2. 頁面頂層結構指令

#### 2.1. 引入視圖狀態管理
* **指令**：在「資源列表」頁面的主 React 元件中，建立一個名為 `viewMode` 的 state，用於控制當前顯示的模式。
* **預設值**：`'dashboard'`，讓使用者預設進入儀表板模式。
    * **程式碼參考**：`const [viewMode, setViewMode] = useState('dashboard');`

#### 2.2. 建立頁面標題列
* **指令**：在頁面最頂部創建一個標題列容器。
* **內容**：
    * **左側**：放置頁面主標題，文字為「資源列表」。
    * **右側**：放置一個由兩個圖示按鈕組成的**「視圖切換器」**。
        * **元件**：Ant Design `<Radio.Group>`。
        * **選項一**：`value="dashboard"`，圖示為 `<AppstoreOutlined />`，文字為「儀表板」。
        * **選項二**：`value="list"`，圖示為 `<BarsOutlined />`，文字為「列表管理」。
        * **行為**：此元件的值與 `viewMode` state 雙向綁定。

#### 2.3. 建立統一工具列
* **指令**：在頁面標題列下方，創建一個統一的工具列，此工具列在兩種視圖模式下**保持不變**。
* **工具列內容**：
    * **左側**：
        * 一個 Ant Design `<Input.Search>`，`placeholder` 為「搜尋資源名稱、IP 或標籤...」。
        * 一個 Ant Design `<Button>`，`icon` 為 `<FilterOutlined />`，文字為「篩選」。
    * **右側**：
        * 一個 Ant Design `<Button>`，`icon` 為 `<ReloadOutlined />` (重新整理)。
        * 一個 Ant Design `<Button>`, `icon` 為 `<DownloadOutlined />` (匯出)。
        * 一個 Ant Design `<Button>`，`type="primary"`，文字為「+ 新增資源」。

#### 2.4. 實現主內容區條件渲染
* **指令**：在統一工具列下方創建主內容區域，其內容根據 `viewMode` state 的值進行條件渲染。
* **渲染邏輯**：
    ```jsx
    {viewMode === 'dashboard' ? <DashboardView /> : <ListView />}
    ```

---

### 3. 兩種視圖模式詳細規劃

#### 3.1. 儀表板模式 (`<DashboardView />`)
此元件負責渲染一個**無滾動的 `2x2` 四象限網格佈局**。

* **左上象限：資源總覽**
    * **指令**：整合關鍵 KPI 於一個卡片中，**移除「主要雲服務商分佈」**。
    * **顯示指標**：
        1.  **總資源數** (例如 `374 台`)
        2.  **健康狀態** (例如 `138 健康, 143 警告, 93 嚴重`)
        3.  **作業系統分佈** (例如 `350 Linux, 24 Windows`)

* **右上象限：Top N 資源使用列表**
    * **指令**：渲染一個緊湊版的 Top N 列表，**僅顯示前 3-5 筆**數據。
    * **功能**：保留 `CPU` / `記憶體` / `磁碟` / `網路` 的指標切換功能。

* **左下象限：資源健康度熱力圖**
    * **指令**：渲染一個 ECharts 熱力圖，用顏色表示所有主機的健康狀態。

* **右下象限：需關注的資源列表**
    * **指令**：渲染一個迷你表格，**僅顯示狀態為 `Critical` 和 `Warning` 的資源**。
    * **互動**：點擊列表中的任一資源，應觸發頁面切換至「列表管理模式」，並定位到該資源。

#### 3.2. 列表管理模式 (`<ListView />`)
此元件負責渲染一個功能完整的傳統表格。

* **指令**：渲染一個 Ant Design `<Table>` 元件。
* **表格欄位**：
    1.  `狀態`
    2.  `資源名稱`
    3.  `資源趨勢 (24H)` (內嵌 Sparkline 圖表)
    4.  `IP 位址`
    5.  `所屬團隊`
    6.  `類型`
    7.  `標籤`
    8.  `即時告警` (顯示活躍告警數量，懸停可見詳情)
    9.  `操作` (編輯/刪除按鈕)
* **表格功能**：
    * **排序**：所有關鍵欄位均應支援點擊表頭排序。
    * **分頁**：表格底部需包含分頁元件。

---
### 4. 總結
這份完整的重構方案確保了：
1.  **遵循您的所有指示**：包括移除雲服務商分佈、整合儀表板與列表等。
2.  **解決核心問題**：透過「視圖切換」機制，徹底解決了頁面滾動問題。
3.  **提供清晰指令**：方案以可執行的步驟呈現，方便 AI 或開發者直接進行修改。
4.  **符合業界最佳實踐**：最終的頁面將兼具宏觀監控效率與微觀管理深度。